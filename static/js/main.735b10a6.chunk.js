(this["webpackJsonpreader-frontend"]=this["webpackJsonpreader-frontend"]||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(17),c=a.n(o),r=(a(27),a(7));var s=function(){return l.a.createElement("div",{className:"app-header"},l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(r.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(r.b,{to:"/blog"},"Blog")))))},i=a(2),m=a(20),u=a(19);var d=function(){return l.a.createElement("div",{className:"home"},l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome to My Blog!"),l.a.createElement("p",null,"This is a project I did for Odin Project Node course. It's a REST API built with a Node/Express backend and two front-end sites, both built with React, one for admin (editing, deleting comments/posts) and one for readers. "),l.a.createElement("a",{href:"https://github.com/mickywagner/blog_rest_api",target:"_blank"},"Check out the code on Github ",l.a.createElement(u.a,null)),l.a.createElement(r.b,{to:"/blog"},"Go to Blog ",l.a.createElement(m.a,null)," ")))},p=a(8),E=l.a.createContext();function h(e){var t=e.children,a=Object(n.useState)([]),o=Object(p.a)(a,2),c=o[0],r=o[1],s=Object(n.useState)(!0),i=Object(p.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){fetch("https://blog-api-072020.herokuapp.com/api/posts").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return!0===e.isPublished}));r(t),u(!1)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement(E.Provider,{value:{allBlogPosts:c,isLoading:m,setIsLoading:u}},t)}var b=function(e){var t=e.post;return l.a.createElement("div",{className:"blog-post"},l.a.createElement("h1",null,t.title),l.a.createElement("div",{className:"blog-post-body"},l.a.createElement("p",{className:"author"},"Posted by ",t.author.username," at ",t.date),t.text),l.a.createElement(r.b,{to:"/blog/".concat(t._id)},l.a.createElement("button",null,"Read More")))},f=a(10),g=a(21);var v=function(){return l.a.createElement("div",{className:"sidebar"},l.a.createElement("h1",null,"About"),l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"https://66.media.tumblr.com/9b2c83f06b588ba05aa6363ddfe0684b/tumblr_n9wflk9lK01tauk1io1_640.jpg"})),l.a.createElement("p",null,"Hi! I'm Michaela and for the past year I've been teaching myself how to code. "),l.a.createElement("p",null,"Some of my other favorite things to do include traveling, Ashtanga yoga, learning Japanese, playing with my dog, and outdoor adventures, primarily snowboarding, climbing, and camping."),l.a.createElement("div",{className:"social"},l.a.createElement("a",{href:"https://github.com/mickywagner"},l.a.createElement(f.a,null)),l.a.createElement("a",{href:"https://www.linkedin.com/in/michaela-wagner/"},l.a.createElement(f.d,null)),l.a.createElement("a",{href:"mailto:mickywagner@gmail.com"},l.a.createElement(g.a,null))))};var k=function(){var e=Object(n.useContext)(E),t=e.allBlogPosts,a=e.isLoading,o=t.map((function(e){return l.a.createElement(b,{key:e._id,post:e})}));return l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"posts"},a&&l.a.createElement("p",null,"Blog posts are loading..."),0!==t.length&&o,!a&0===t.length?"No blog posts found :(":null),l.a.createElement(v,null))};var y=function(e){return l.a.createElement("div",{className:"comment"},l.a.createElement("h3",null,e.comment.name),l.a.createElement("p",null,e.comment.text))};var j=function(e){return l.a.createElement("div",{className:"form"},l.a.createElement("form",{onSubmit:function(t){var a=t.target,n=a.name,l=a.text;fetch("https://blog-api-072020.herokuapp.com/api/posts/".concat(e.postid,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.value,text:l.value})}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},l.a.createElement("label",{htmlFor:"name"},"Name: "),l.a.createElement("input",{id:"name",type:"text",required:!0}),l.a.createElement("label",{htmlFor:"text"},"Comment: "),l.a.createElement("textarea",{id:"text",required:!0}),l.a.createElement("button",null,"Post Comment")))};var N=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),o=a[0],c=a[1],r=Object(n.useState)(!1),s=Object(p.a)(r,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){console.log("change to likes")}),[c,m]),l.a.createElement("div",{className:"likes"},l.a.createElement("span",null,l.a.createElement("button",{onClick:function(){c(!o);var t=(o?-1:1)+e.likes;fetch("https://blog-api-072020.herokuapp.com/api/posts/".concat(e.postId,"/likes"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({likes:t})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},disabled:!!i},l.a.createElement(f.b,null)," ",e.likes),l.a.createElement("button",{onClick:function(){m(!i);var t=(i?-1:1)+e.dislikes;fetch("https://blog-api-072020.herokuapp.com/api/posts/".concat(e.postId,"/dislikes"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({dislikes:t})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},disabled:!!o},l.a.createElement(f.c,null)," ",e.dislikes)))};var O=function(e){var t=e.post.comments.map((function(e){return l.a.createElement(y,{comment:e,key:e._id})})),a=e.post.comments.length;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"blog-post-feature"},l.a.createElement("div",{className:"blog-body"},l.a.createElement("p",null,e.post.date),l.a.createElement("h1",null,e.post.title),l.a.createElement("p",null,"By: ",e.post.author.username),l.a.createElement("p",null,e.post.text),l.a.createElement(N,{likes:e.post.likes,dislikes:e.post.dislikes,postId:e.post._id})),l.a.createElement("div",{className:"comments"},l.a.createElement("h1",null,"Leave a new comment: "),l.a.createElement(j,{postid:e.post._id}),l.a.createElement("h1",null,"".concat(a,1===a?" Comment":" Comments"),": "),t)))};var w=function(e){var t=e.match,a=Object(n.useState)(),o=Object(p.a)(a,2),c=o[0],r=o[1],s=Object(n.useContext)(E),i=(s.isLoading,s.setIsLoading);return Object(n.useEffect)((function(){fetch("https://blog-api-072020.herokuapp.com/api/posts/".concat(t.params.id)).then((function(e){return e.json()})).then((function(e){r(e[0]),i(!1)})).catch((function(e){return console.log(e)}))}),[c]),l.a.createElement("div",{className:"feature"},void 0===c?null:l.a.createElement(O,{post:c}))};a(33);var x=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(s,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/"},l.a.createElement(d,null)),l.a.createElement(i.a,{exact:!0,path:"/blog"},l.a.createElement(k,null)),l.a.createElement(i.a,{path:"/blog/:id",component:w})))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h,null,l.a.createElement(r.a,{basename:"/blog_rest_api"},l.a.createElement(x,null)))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.735b10a6.chunk.js.map